"use strict";(self["webpackChunkv2_htxt"]=self["webpackChunkv2_htxt"]||[]).push([[968],{4968:function(s,e,t){t.r(e),t.d(e,{default:function(){return d}});var a=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"login-container"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:s.loginForm,rules:s.loginRules,"label-position":"left"},nativeOn:{submit:function(s){s.preventDefault()}}},[t("div",{staticClass:"title-container"},[t("h3",{staticClass:"title"},[s._v("用户登录")])]),t("el-form-item",{attrs:{prop:"username"}},[t("span",{staticClass:"icon-container"},[t("span",{staticClass:"iconfont icon-yonghu"})]),t("el-input",{ref:"username",attrs:{placeholder:"Username",name:"username",type:"text",tabindex:"1",autocomplete:"off"},model:{value:s.loginForm.username,callback:function(e){s.$set(s.loginForm,"username",e)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticClass:"icon-container"},[t("span",{staticClass:"iconfont icon-suo"})]),t("el-input",{key:s.passwordType,ref:"password",attrs:{type:s.passwordType,placeholder:"Password",name:"password",tabindex:"2",autocomplete:"off"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.handleLogin.apply(null,arguments)}},model:{value:s.loginForm.password,callback:function(e){s.$set(s.loginForm,"password",e)},expression:"loginForm.password"}}),t("span",{staticClass:"show-pwd",on:{click:s.showPwd}},[t("span",{class:["iconfont","icon-"+(s.passwordType?"biyan":"yanjing")]})])],1),t("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:s.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),s.handleLogin.apply(null,arguments)}}},[s._v("登录")]),t("div",{staticClass:"tips"},[t("span",{staticStyle:{"margin-right":"20px"}},[s._v("管理权限")]),t("span",{staticStyle:{"margin-right":"20px"}},[s._v(" username: "),t("span",{staticClass:"user"},[s._v("admin")])]),t("span",[s._v(" password: "),t("span",{staticClass:"pwd"},[s._v("111111")])])]),t("div",{staticClass:"tips"},[t("span",{staticStyle:{"margin-right":"20px"}},[s._v("普通权限")]),t("span",{staticStyle:{"margin-right":"20px"}},[s._v(" username: "),t("span",{staticClass:"user"},[s._v("wode")])]),t("span",[s._v("  password: "),t("span",{staticClass:"pwd"},[s._v("111111")])])])],1)],1)},n=[],r=(t(1703),t(4549)),i=t(4665),o={name:"LoinIndex",data(){const s=(s,e,t)=>{e?t():t(new Error("Please enter the correct user name"))},e=(s,e,t)=>{e.length<6?t(new Error("The password can not be less than 6 digits")):t()};return{loginForm:{username:"admin",password:"111111"},loginRules:{username:[{required:!0,trigger:"change",validator:s}],password:[{required:!0,trigger:"change",validator:e}]},loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{handler:function(s){this.redirect=s.query.redirect},immediate:!0}},computed:{...(0,i.rn)({routeStr:s=>s.user.routeStr})},methods:{...(0,i.OI)({CHANEG_ROUTESTR:(s,e)=>s("user/CHANEG_ROUTESTR",e)}),...(0,i.nv)({login:(s,e)=>s("user/login",e),permission:(s,e)=>s("user/permission",e)}),aaa(){this.permission()},showPwd(){"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((()=>{this.$refs.password.focus()}))},handleLogin(){this.$refs.loginForm.validate((s=>{if(!s)return(0,r.Message)("请完成表单"),!1;this.loading=!0,this.login(this.loginForm).then((s=>{sessionStorage.setItem("path",this.redirect||"/"),this.$router.push({path:this.redirect||"/"}),this.loading=!1})).catch((s=>{console.log(s),(0,r.Message)({type:"error",message:s}),this.loading=!1}))}))}}},l=o,p=t(1001),c=(0,p.Z)(l,a,n,!1,null,"823b7afa",null),d=c.exports}}]);
//# sourceMappingURL=968.47d190f7.js.map