"use strict";(self["webpackChunkv2_htxt"]=self["webpackChunkv2_htxt"]||[]).push([[690],{40690:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{border:"",data:t.skuList}},[n("el-table-column",{attrs:{prop:"id",type:"index",index:t.typedIndex,label:"序号",align:"center",width:"100"}}),n("el-table-column",{attrs:{prop:"skuName",label:"名称"}}),n("el-table-column",{attrs:{prop:"skuDesc",label:"描述"}}),n("el-table-column",{attrs:{prop:"defaultImage",label:"默认图片",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[n("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.skuDefaultImg}})]}}])}),n("el-table-column",{attrs:{prop:"weight",label:"重量(KG)",width:"100"}}),n("el-table-column",{attrs:{prop:"price",label:"价格(元)",width:"100"}}),n("el-table-column",{attrs:{prop:"active",label:"操作",width:"230",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-tooltip",{attrs:{effect:"dark",content:1===a.isSale?"点击下架":"点击上架",placement:"bottom"}},[1===a.isSale?n("el-button",{attrs:{type:"success",icon:"el-icon-sort-up",size:"mini"},on:{click:function(e){return t.sortUp(a)}}}):n("el-button",{attrs:{icon:"el-icon-sort-down",size:"mini"},on:{click:function(e){return t.sortDown(a)}}})],1),n("el-button",{attrs:{type:"info",icon:"el-icon-info",size:"mini"},on:{click:function(e){return t.inof(a)}}}),n("el-popconfirm",{staticStyle:{marginLeft:"10px"},attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"这是一段内容确定删除吗？"},on:{confirm:function(e){return t.del(a)}}},[n("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini"},slot:"reference"})],1)]}}])})],1),n("el-drawer",{attrs:{title:"数据详情",visible:t.drawer,direction:"rtl",size:"50%","before-close":t.handleClose},on:{"update:visible":function(e){t.drawer=e}}},t._l(t.drawerArr,(function(e,a){return n("el-row",{key:a},[n("el-col",{attrs:{span:5}},[t._v(t._s(e)+":")]),0==a?n("el-col",{attrs:{span:16}},[t._v(t._s(t.drawerData.skuName))]):t._e(),1==a?n("el-col",{attrs:{span:16}},[t._v(t._s(t.drawerData.createTime))]):t._e(),2==a?n("el-col",{attrs:{span:16}},[t._v(t._s(t.drawerData.skuDesc))]):t._e(),3==a?n("el-col",{attrs:{span:16}},[n("div",{staticStyle:{marginTop:"3px"}},[t._v(t._s(t.drawerData.price)+" 元")])]):t._e(),4==a?n("el-col",{attrs:{span:16}},[n("div",{staticStyle:{marginTop:"5px"}},[t._v(t._s(t.drawerData.weight)+" kg")])]):t._e(),5==a?n("el-col",{attrs:{span:16}},t._l(t.drawerData.skuAttrValueList,(function(e,a){return n("el-tag",{key:a},[t._v(t._s(e.valueName))])})),1):t._e(),6==a?n("el-col",{attrs:{span:16}},[t.skuImageListLength?n("el-carousel",{attrs:{interval:4e3,type:"card",height:"200px","indicator-position":1==t.skuImageListLength?"none":"outside"}},t._l(t.drawerData.skuImageList,(function(t,e){return n("el-carousel-item",{key:e,staticClass:"card"},[n("div",{staticClass:"image"},[n("el-image",{attrs:{src:t.imgUrl,fit:"contain"}})],1),n("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[n("i",{staticClass:"el-icon-picture-outline"})])])})),1):n("span",[t._v("暂无图片")])],1):t._e()],1)})),1),n("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"current-page":t.pagination.page,"page-sizes":t.pagination.sizes,"page-size":t.pagination.limit,layout:"total, prev, pager, next, jumper, ->, sizes",total:t.pagination.total},on:{"current-change":t.currentChange,"size-change":t.sizeChange}})],1)},i=[],s=n(93019),r=n(34665),o={name:"SkuIdex",data:function(){return{drawer:!1,drawerArr:["名称","创建时间","描述","价格","重量","平台属性","商品图片"]}},methods:(0,s.Z)((0,s.Z)((0,s.Z)({},(0,r.OI)({CHANGE_PAGINATION:function(t,e){return t("sku/CHANGE_PAGINATION",e)},CHANGE_LOADING:function(t,e){return t("sku/CHANGE_LOADING",e)}})),(0,r.nv)({skuListAsync:function(t,e){return t("sku/skuListAsync",e)},sortUpOnSale:function(t,e){return t("sku/sortUpOnSale",e)},sortDownCancelSale:function(t,e){return t("sku/sortDownCancelSale",e)},getSkuById:function(t,e){return t("sku/getSkuById",e)},deleteSku:function(t,e){return t("sku/deleteSku",e)}})),{},{currentChange:function(t){this.CHANGE_LOADING(!0),this.CHANGE_PAGINATION({page:t}),this.skuListAsync(this.pagination)},sizeChange:function(t){this.CHANGE_LOADING(!0),this.CHANGE_PAGINATION({limit:t}),this.skuListAsync(this.pagination)},typedIndex:function(t){var e=this.pagination,n=e.limit,a=e.page;return n*(a-1)+t+1},sortDown:function(t){t.isSale=1,this.sortUpOnSale(t.id)},sortUp:function(t){t.isSale=0,this.sortDownCancelSale(t.id)},edit:function(){this.$message.closeAll(),this.$message("还不能使用")},handleClose:function(t){t()},inof:function(t){var e=this;this.getSkuById(t.id).then((function(t){console.log((0,s.Z)({},e.drawerData)),e.drawer=!0})).catch((function(t){e.$message.closeAll(),e.$message({type:"error",message:t})}))},del:function(t){console.log(t),this.deleteSku(t.id)}}),computed:(0,s.Z)((0,s.Z)({},(0,r.rn)({pagination:function(t){return t.sku.pagination},skuList:function(t){return t.sku.skuList},loading:function(t){return t.sku.loading},drawerData:function(t){return t.sku.drawerData}})),{},{skuImageListLength:function(){return this.drawerData.skuImageList&&this.drawerData.skuImageList.length}}),mounted:function(){this.skuListAsync(this.pagination)}},l=o,u=n(1001),c=(0,u.Z)(l,a,i,!1,null,"31e61b51",null),d=c.exports}}]);
//# sourceMappingURL=690-legacy.1ad279a2.js.map